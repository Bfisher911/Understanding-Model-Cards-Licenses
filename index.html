<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Model Cards & Licenses</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to complement Tailwind CSS */
        :root {
            --primary-color: #4f46e5;
            --secondary-color: #10b981;
            --background-color: #f3f4f6;
            --text-color: #1f2937;
            --card-bg: #ffffff;
            --border-color: #d1d5db;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        /* --- Tab Styling --- */
        .tab-button {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab-button.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        /* --- Accordion Styling --- */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out;
            padding: 0 1.5rem;
        }

        .accordion-item.active .accordion-content {
            max-height: 500px; /* Adjust as needed */
            padding: 1.5rem;
        }

        .accordion-item.active .accordion-arrow {
            transform: rotate(180deg);
        }
        
        .accordion-arrow {
            transition: transform 0.3s ease;
        }

        /* --- Tooltip/Popup Styling --- */
        .tooltip-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }
        
        .popup {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .tooltip-container:hover .popup, .popup.active {
            visibility: visible;
            opacity: 1;
        }

        /* --- Drag and Drop Quiz Styling --- */
        .draggable {
            cursor: grab;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .draggable:active {
            cursor: grabbing;
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .drop-zone {
            transition: background-color 0.3s ease, border-color 0.3s ease;
            border: 2px dashed var(--border-color);
        }

        .drop-zone.drag-over {
            background-color: #e0e7ff;
            border-color: var(--primary-color);
        }
        
        .feedback {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        /* Progress Bar */
        .progress-bar-inner {
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
        <header class="p-6 md:p-8 bg-gray-800 text-white">
            <h1 class="text-3xl md:text-4xl font-bold">Understanding Model Cards & Licenses</h1>
            <p class="mt-2 text-gray-300">An interactive guide to responsible AI documentation and usage rights.</p>
        </header>

        <!-- Progress Bar -->
        <div class="p-4 bg-gray-50 border-b border-gray-200">
            <h3 class="text-sm font-medium text-gray-700 mb-2">Your Exploration Progress</h3>
            <div id="progress-container" class="w-full bg-gray-200 rounded-full h-4">
                <div id="progress-bar" class="progress-bar-inner bg-indigo-600 h-4 rounded-full text-center text-white text-xs leading-4" style="width: 0%;">0%</div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="border-b border-gray-200">
            <nav class="flex -mb-px px-6" aria-label="Tabs">
                <button id="tab-anatomy" class="tab-button active text-gray-600 hover:text-indigo-600 whitespace-nowrap py-4 px-1 font-medium text-lg">
                    Model Card Anatomy
                </button>
                <button id="tab-explorer" class="tab-button text-gray-600 hover:text-indigo-600 whitespace-nowrap py-4 px-1 ml-8 font-medium text-lg">
                    License Explorer
                </button>
            </nav>
        </div>

        <main class="p-6 md:p-8">
            <!-- Content: Model Card Anatomy -->
            <div id="content-anatomy" class="tab-content">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">What's Inside a Model Card?</h2>
                        <p class="text-gray-600 mb-6">Model cards are like nutrition labels for AI models. They provide essential information about how a model was built, how it performs, and its limitations. Click each section below to learn more.</p>
                        <!-- Accordion -->
                        <div id="accordion-container" class="space-y-3">
                            <!-- Accordion Item 1 -->
                            <div class="accordion-item bg-gray-50 rounded-lg border border-gray-200" data-section="1">
                                <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-gray-700">
                                    Model Details
                                    <svg class="accordion-arrow w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content">
                                    <p class="mb-4">Basic information about the model, including its version, date, type, and the people or organization that developed it.</p>
                                    <img src="https://placehold.co/600x300/e2e8f0/4a5568?text=Snippet:+Model+Details" alt="Model Details Snippet" class="rounded-md shadow-sm w-full">
                                </div>
                            </div>
                            <!-- Accordion Item 2 -->
                            <div class="accordion-item bg-gray-50 rounded-lg border border-gray-200" data-section="2">
                                <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-gray-700">
                                    Intended Use
                                    <svg class="accordion-arrow w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content">
                                     <p class="mb-4">Describes the specific use cases and domains the model was designed for, and who the target users are. Also covers out-of-scope uses to prevent misuse.</p>
                                     <img src="https://placehold.co/600x300/e2e8f0/4a5568?text=Snippet:+Intended+Use" alt="Intended Use Snippet" class="rounded-md shadow-sm w-full">
                                </div>
                            </div>
                            <!-- Accordion Item 3 -->
                            <div class="accordion-item bg-gray-50 rounded-lg border border-gray-200" data-section="3">
                                <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-gray-700">
                                    Training Data
                                    <svg class="accordion-arrow w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content">
                                     <p class="mb-4">Details on the datasets used to train and evaluate the model, including their sources, preprocessing steps, and any known biases or limitations.</p>
                                     <img src="https://placehold.co/600x300/e2e8f0/4a5568?text=Snippet:+Training+Data" alt="Training Data Snippet" class="rounded-md shadow-sm w-full">
                                </div>
                            </div>
                             <!-- Accordion Item 4 -->
                            <div class="accordion-item bg-gray-50 rounded-lg border border-gray-200" data-section="4">
                                <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-gray-700">
                                    Metrics
                                    <svg class="accordion-arrow w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>
                                <div class="accordion-content">
                                     <p class="mb-4">Quantitative performance metrics (like accuracy, precision, recall) across different demographic groups and environmental conditions to assess fairness and robustness.</p>
                                     <img src="https://placehold.co/600x300/e2e8f0/4a5568?text=Snippet:+Metrics" alt="Metrics Snippet" class="rounded-md shadow-sm w-full">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="hidden lg:block self-center">
                        <img src="https://placehold.co/600x500/4f46e5/ffffff?text=Model+Card+Illustration" alt="Illustration of a model card" class="rounded-lg shadow-md">
                    </div>
                </div>
            </div>

            <!-- Content: License Explorer -->
            <div id="content-explorer" class="tab-content hidden">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">License Explorer</h2>
                <p class="text-gray-600 mb-6">Not all "open" licenses are the same. Select a license to understand what you can and can't do.</p>
                
                <!-- License Selector -->
                <div class="mb-6">
                    <label for="license-select" class="block text-sm font-medium text-gray-700 mb-1">Select a License:</label>
                    <select id="license-select" class="mt-1 block w-full md:w-1/3 pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md shadow-sm">
                        <option value="apache">Apache 2.0</option>
                        <option value="mit">MIT License</option>
                        <option value="cc-by-nc">CC-BY-NC 4.0</option>
                        <option value="llama">LLaMA Community License</option>
                    </select>
                </div>

                <!-- License Details Table -->
                <div id="license-details" class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Permitted Column -->
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-green-800 mb-3 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Permitted
                        </h3>
                        <ul id="license-permitted" class="list-disc list-inside space-y-2 text-green-700"></ul>
                    </div>
                    <!-- Restricted Column -->
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-red-800 mb-3 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            Restricted
                        </h3>
                        <ul id="license-restricted" class="list-disc list-inside space-y-2 text-red-700"></ul>
                    </div>
                    <!-- Obligations Column -->
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-yellow-800 mb-3 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                            Obligations
                        </h3>
                        <ul id="license-obligations" class="list-disc list-inside space-y-2 text-yellow-700"></ul>
                    </div>
                </div>

                <!-- Interactive Quiz -->
                <div id="quiz-section" class="mt-12 pt-8 border-t border-gray-300">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">Test Your Knowledge!</h2>
                    <p class="text-gray-600 mb-6">Drag each scenario to the license type that you think permits it.</p>
                    <div class="flex flex-col md:flex-row gap-8">
                        <!-- Draggable Cards -->
                        <div id="scenario-cards" class="w-full md:w-1/3 space-y-3">
                            <div class="draggable bg-white p-4 rounded-lg shadow border border-gray-200" draggable="true" data-scenario="commercial">
                                <h4 class="font-bold">Scenario 1</h4>
                                <p class="text-sm text-gray-600">Building a commercial SaaS product for paying customers.</p>
                            </div>
                            <div class="draggable bg-white p-4 rounded-lg shadow border border-gray-200" draggable="true" data-scenario="academic">
                                <h4 class="font-bold">Scenario 2</h4>
                                <p class="text-sm text-gray-600">Using a model in an academic research paper.</p>
                            </div>
                            <div class="draggable bg-white p-4 rounded-lg shadow border border-gray-200" draggable="true" data-scenario="modify">
                                <h4 class="font-bold">Scenario 3</h4>
                                <p class="text-sm text-gray-600">Modifying the model and distributing your modified version privately.</p>
                            </div>
                        </div>
                        <!-- Drop Zones -->
                        <div class="w-full md:w-2/3 grid grid-cols-1 sm:grid-cols-2 gap-4">
                           <div class="drop-zone p-4 rounded-lg bg-gray-100" data-license-type="permissive">
                               <h4 class="font-semibold text-center text-gray-700">Permissive Licenses (e.g., MIT, Apache)</h4>
                               <div class="min-h-[60px] mt-2 space-y-2"></div>
                           </div>
                           <div class="drop-zone p-4 rounded-lg bg-gray-100" data-license-type="restrictive">
                               <h4 class="font-semibold text-center text-gray-700">Restrictive Licenses (e.g., CC-BY-NC, LLaMA)</h4>
                               <div class="min-h-[60px] mt-2 space-y-2"></div>
                           </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Popup/Modal for Tooltips -->
    <div id="popup-modal" class="popup fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg shadow-2xl p-6 max-w-sm w-full relative">
            <button id="popup-close" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 id="popup-title" class="text-xl font-bold mb-3"></h3>
            <p id="popup-content" class="text-gray-600"></p>
        </div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- CORE ELEMENTS ---
        const tabs = {
            anatomy: document.getElementById('tab-anatomy'),
            explorer: document.getElementById('tab-explorer'),
        };
        const contents = {
            anatomy: document.getElementById('content-anatomy'),
            explorer: document.getElementById('content-explorer'),
        };
        const progressBar = document.getElementById('progress-bar');
        const progressContainer = document.getElementById('progress-container');

        // --- STATE MANAGEMENT ---
        const totalProgressItems = 8; // 4 accordion sections + 4 licenses
        let exploredItems = new Set();


        // --- TAB SWITCHING LOGIC ---
        // This function handles the visual switching between the two main tabs.
        function switchTab(targetTab) {
            // Deactivate all tabs and hide all content
            Object.values(tabs).forEach(tab => tab.classList.remove('active'));
            Object.values(contents).forEach(content => content.classList.add('hidden'));

            // Activate the target tab and show its content
            tabs[targetTab].classList.add('active');
            contents[targetTab].classList.remove('hidden');
        }

        tabs.anatomy.addEventListener('click', () => switchTab('anatomy'));
        tabs.explorer.addEventListener('click', () => switchTab('explorer'));


        // --- PROGRESS BAR LOGIC ---
        // Updates the progress bar based on the number of unique items explored.
        function updateProgress() {
            const percentage = Math.round((exploredItems.size / totalProgressItems) * 100);
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
        }


        // --- MODEL CARD ANATOMY (ACCORDION) LOGIC ---
        const accordionContainer = document.getElementById('accordion-container');
        const accordionItems = accordionContainer.querySelectorAll('.accordion-item');

        accordionContainer.addEventListener('click', (e) => {
            const header = e.target.closest('.accordion-header');
            if (!header) return;

            const item = header.parentElement;
            const sectionId = item.dataset.section;

            // Toggle active class on the clicked item
            if (item.classList.contains('active')) {
                item.classList.remove('active');
            } else {
                // Deactivate all other items for a classic accordion feel
                accordionItems.forEach(otherItem => otherItem.classList.remove('active'));
                item.classList.add('active');
                
                // Update progress when a new section is opened
                if (!exploredItems.has(`section-${sectionId}`)) {
                    exploredItems.add(`section-${sectionId}`);
                    updateProgress();
                }
            }
        });

        // --- LICENSE EXPLORER LOGIC ---
        const licenseSelect = document.getElementById('license-select');
        const permittedList = document.getElementById('license-permitted');
        const restrictedList = document.getElementById('license-restricted');
        const obligationsList = document.getElementById('license-obligations');
        
        // Data for licenses. This could be fetched from an API in a real app.
        const licenseData = {
            apache: {
                permitted: ["Commercial use", "Modification", "Distribution", "Private use", "Sublicensing"],
                restricted: [],
                obligations: ["Include original license", "State changes", "Include original copyright notice", "Cannot use trademarks of contributors"]
            },
            mit: {
                permitted: ["Commercial use", "Modification", "Distribution", "Private use"],
                restricted: ["No liability/warranty"],
                obligations: ["Include original license and copyright notice"]
            },
            'cc-by-nc': {
                permitted: ["Modification", "Distribution", "Sharing"],
                restricted: ["Commercial use"],
                obligations: ["Provide <span class='tooltip-container' data-term='attribution'>attribution</span>", "Indicate if changes were made", "Share-alike (if you remix, you must license your new creations under the identical terms)"]
            },
            llama: {
                permitted: ["Modification", "Distribution (with restrictions)", "Research"],
                restricted: ["Commercial use for companies with >700M monthly active users", "Use to improve other large language models", "Violating <span class='tooltip-container' data-term='field-of-use'>acceptable use policy</span> (e.g., for illegal activities)"],
                obligations: ["Include license and copyright", "Adhere to acceptable use policy"]
            }
        };

        // This function populates the license details table based on the selected license.
        function updateLicenseDetails() {
            const selectedLicense = licenseSelect.value;
            const data = licenseData[selectedLicense];

            // Helper to populate a list
            const populateList = (listElement, items) => {
                listElement.innerHTML = ''; // Clear previous items
                if (items.length === 0) {
                    listElement.innerHTML = '<li>None specified.</li>';
                    return;
                }
                items.forEach(item => {
                    const li = document.createElement('li');
                    li.innerHTML = item; // Use innerHTML to render potential tooltips
                    listElement.appendChild(li);
                });
            };

            populateList(permittedList, data.permitted);
            populateList(restrictedList, data.restricted);
            populateList(obligationsList, data.obligations);
            
            // Add event listeners for any new tooltips
            setupTooltips();

            // Update progress when a new license is viewed
            if (!exploredItems.has(`license-${selectedLicense}`)) {
                exploredItems.add(`license-${selectedLicense}`);
                updateProgress();
            }
        }

        licenseSelect.addEventListener('change', updateLicenseDetails);
        // Initial call to populate the view
        updateLicenseDetails();


        // --- TOOLTIP/POPUP LOGIC ---
        const popupModal = document.getElementById('popup-modal');
        const popupTitle = document.getElementById('popup-title');
        const popupContent = document.getElementById('popup-content');
        const popupClose = document.getElementById('popup-close');

        const tooltipDefs = {
            attribution: {
                title: "Attribution",
                content: "You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use."
            },
            'field-of-use': {
                title: "Field-of-Use Restriction",
                content: "This is a clause that limits the use of the licensed material to a specific purpose or industry. For example, a model might be licensed for academic research but not for commercial product development."
            }
        };
        
        function showPopup(term) {
            if (tooltipDefs[term]) {
                popupTitle.textContent = tooltipDefs[term].title;
                popupContent.textContent = tooltipDefs[term].content;
                popupModal.classList.add('active');
            }
        }

        function hidePopup() {
            popupModal.classList.remove('active');
        }
        
        // Use event delegation on a parent container for dynamically added tooltips
        document.getElementById('license-details').addEventListener('click', (e) => {
            const tooltip = e.target.closest('.tooltip-container');
            if (tooltip) {
                const term = tooltip.dataset.term;
                showPopup(term);
            }
        });

        popupClose.addEventListener('click', hidePopup);
        popupModal.addEventListener('click', (e) => {
            // Close if clicking on the background overlay
            if (e.target === popupModal) {
                hidePopup();
            }
        });
        
        // Initial setup for any tooltips present on load
        function setupTooltips() {
            // This function is now called within updateLicenseDetails to re-bind events
        }


        // --- DRAG AND DROP QUIZ LOGIC ---
        const draggables = document.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll('.drop-zone');
        
        // Correct answers mapping
        const correctAnswers = {
            commercial: 'permissive', // Commercial SaaS is allowed by permissive licenses
            academic: 'permissive',   // Academic use is allowed by both, but permissive is a safe bet
            modify: 'permissive'      // Private modification is generally allowed by all listed
        };

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
            });

            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault(); // Necessary to allow dropping
                zone.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', () => {
                zone.classList.remove('drag-over');
            });

            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                const draggable = document.querySelector('.dragging');
                if (!draggable) return;

                const scenario = draggable.dataset.scenario;
                const targetLicenseType = zone.dataset.licenseType;
                
                // Provide feedback
                const isCorrect = correctAnswers[scenario] === targetLicenseType || (scenario === 'academic' && targetLicenseType === 'restrictive');
                
                draggable.style.borderWidth = '3px';
                draggable.style.borderColor = isCorrect ? 'var(--secondary-color)' : '#ef4444';
                
                // Append to the content area of the drop zone
                const contentArea = zone.querySelector('div');
                contentArea.appendChild(draggable);
                
                // Make it no longer draggable
                draggable.setAttribute('draggable', 'false');
                draggable.style.cursor = 'default';
            });
        });
    });
    </script>
</body>
</html>
